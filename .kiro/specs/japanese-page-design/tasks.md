# Implementation Plan

## Tasks

- [x] 1. デザイントークンのタイポグラフィ設定を更新
- [x] 1.1 (P) 行間とフォントウェイトのトークンを調整
  - `--line-height-loose`を1.85から1.9に変更
  - 日本語本文に適した行間を実現
  - 既存のダークモード設定への影響がないことを確認
  - _Requirements: 1.2, 2.2_

- [x] 1.2 (P) 見出しスケールの変数を追加
  - 見出しサイズを相対単位（em）で定義
  - h1: 2.5em、h2: 2em、h3: 1.5em、h4: 1.25emの比率を設定
  - 本文サイズに連動するスケーリングを実現
  - _Requirements: 1.5_

- [x] 2. グローバルスタイルのタイポグラフィを最適化
- [x] 2.1 本文フォントサイズのレスポンシブ設定
  - bodyのフォントサイズをデスクトップで18px、モバイル（768px未満）で16pxに変更
  - line-heightを更新された`--line-height-loose`（1.9）に変更
  - 既存のメディアクエリ構造を活用
  - _Requirements: 1.1, 1.3, 1.4, 2.4_

- [x] 2.2 段落とテキスト処理の調整
  - `.prose p`の段落間余白を相対単位（1.75em）に変更
  - `word-break: normal`を設定して全角文字の不自然な折り返しを防止
  - `overflow-wrap: break-word`を維持してオーバーフロー対策
  - _Requirements: 3.1, 3.3_

- [x] 3. 日本語タイポグラフィ専用スタイルを作成
- [x] 3.1 文字間隔と約物配置の最適化
  - 新規CSSファイル`japanese-typography.css`を作成
  - `.prose`に`letter-spacing: 0.03em`を適用
  - `font-feature-settings: "palt" 1`で約物のプロポーショナル配置を有効化
  - global.cssへの@importを追加
  - _Requirements: 2.1, 2.3_

- [x] 3.2 見出しの折り返しとスタイル設定
  - 見出し（h1-h4）に`text-wrap: balance`を適用
  - 見出しフォントウェイトを`--font-weight-semibold`（600）に設定
  - 見出しサイズにdesign-tokens.cssで定義した変数を使用
  - _Requirements: 2.2, 3.4_

- [x] 4. 日付表示コンポーネントを更新
- [x] 4.1 YYYY/MM/DD形式のフォーマット関数を実装
  - toLocaleDateStringから独自のフォーマット関数に変更
  - 年/月/日をスラッシュ区切りで表示（例: 2025/01/15）
  - ゼロパディング（01月、05日）を適用
  - datetime属性はISO 8601形式を維持
  - _Requirements: 4.1_

- [x] 4.2 曜日表示オプションを追加
  - `showWeekday`プロパティ（デフォルト: false）を追加
  - 日本語の曜日を括弧付きで表示（例: 2025/01/15（水））
  - 曜日配列を定義して変換処理を実装
  - _Requirements: 4.2_

- [x] 5. 記事レイアウトの更新日表示を修正
- [x] 5.1 更新日の表示形式を変更
  - 更新日時を「（更新：YYYY/MM/DD）」形式で表示
  - FormattedDateコンポーネントの新しいフォーマットを活用
  - 既存のレイアウト構造とスタイルを維持
  - _Requirements: 4.3_

- [x] 6. パンくずナビゲーションコンポーネントを作成
- [x] 6.1 Breadcrumbコンポーネントの実装
  - 新規コンポーネント`Breadcrumb.astro`を作成
  - ナビゲーションパスを区切り文字「›」で表示
  - セマンティックなHTML構造（nav/ol/li）を使用
  - アクセシビリティ対応（aria-label="パンくずナビゲーション"）
  - _Requirements: 5.1_

- [x] 6.2 記事ページへの統合
  - BlogPost.astroにBreadcrumbコンポーネントを追加
  - ホーム › ブログ › 記事タイトルの階層構造を設定
  - スタイルの調整（位置、間隔、色）
  - _Requirements: 5.1_

- [x] 7. UI要素の日本語化確認と調整
- [x] 7.1 (P) ボタンラベルの日本語統一
  - サイト内のボタンラベルを確認・統一
  - 「もっと見る」「戻る」「すべての記事を見る」等の表記を確認
  - 一貫性のある日本語表現を適用
  - _Requirements: 5.2_

- [x] 7.2 (P) 既存の日本語実装を確認
  - 404ページの日本語メッセージを確認（実装済み）
  - Headerのaria-label日本語表記を確認（実装済み）
  - 追加の日本語化が必要な箇所がないことを検証
  - _Requirements: 5.3, 5.4_

- [x] 8. カードコンポーネントの最適化
- [x] 8.1 日本語テキストに適したカード幅の調整
  - カードの最小幅・最大幅を日本語コンテンツに最適化
  - タイトルと説明文の切り詰め（line-clamp）設定を確認
  - グリッドレイアウトのブレークポイントを調整
  - _Requirements: 3.2_

- [x] 9. 統合テストと動作確認
- [x] 9.1 タイポグラフィ変更の視覚確認
  - デスクトップ（1024px以上）でフォントサイズ18px、行間1.9を確認
  - モバイル（768px未満）でフォントサイズ16pxを確認
  - 見出しサイズの比率が正しく適用されていることを確認
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 1.5_

- [x] 9.2 日付表示の動作確認
  - 記事一覧で日付がYYYY/MM/DD形式で表示されることを確認
  - 記事詳細で投稿日・更新日が正しいフォーマットであることを確認
  - datetime属性がISO 8601形式を維持していることを確認
  - _Requirements: 4.1, 4.2, 4.3_

- [x] 9.3 レイアウトとUI要素の確認
  - パンくずナビゲーションが正しく表示・動作することを確認
  - 日本語タイポグラフィ（letter-spacing、約物配置）の視覚確認
  - text-wrap: balanceが見出しに適用されていることを確認
  - _Requirements: 2.1, 2.3, 3.4, 5.1_
