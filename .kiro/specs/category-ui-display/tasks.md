# Implementation Plan

## Tasks

- [x] 1. 国際化対応の翻訳キー追加
- [x] 1.1 カテゴリ関連の翻訳キーを定義
  - TranslationKeys インターフェースにカテゴリ用キーを追加
  - 日本語翻訳（カテゴリ一覧、パンくず、aria-label等）を定義
  - 英語翻訳を定義
  - 既存の翻訳パターン（tags.*）に合わせた命名規則を使用
  - _Requirements: 6.1, 6.2, 6.3_

- [x] 2. CategoryBadgeコンポーネント作成
- [x] 2.1 カテゴリバッジの基本構造を実装
  - Props インターフェース（category, href, count, className, ariaLabel）を定義
  - カテゴリ名の表示とリンク機能を実装
  - 空カテゴリの場合は何も表示しない条件分岐を追加
  - アクセシビリティ属性（aria-label, role, tabindex）を設定
  - _Requirements: 5.1, 5.4_

- [x] 2.2 カテゴリバッジのスタイリング
  - タグバッジと区別できる配色（緑系）を CSS 変数で定義
  - ダークモード対応スタイルを追加
  - ホバー・フォーカス時の視覚フィードバックを実装
  - レスポンシブ対応（モバイル時のサイズ調整）を追加
  - _Requirements: 5.2, 5.3_

- [x] 3. 記事詳細ページへのカテゴリ表示追加
- [x] 3.1 (P) BlogPostレイアウトにカテゴリ表示を統合
  - Props に category を追加
  - article-meta セクション内にカテゴリバッジを配置
  - カテゴリが空の場合は非表示にする条件を追加
  - カテゴリバッジにカテゴリ別記事一覧へのリンクを設定
  - _Requirements: 1.1, 1.2, 1.3, 1.4_

- [x] 3.2 (P) 記事ページからレイアウトへのcategory受け渡し
  - blog/[...slug].astro で category prop を BlogPost に渡す（既にpost.dataに含まれているため追加作業不要）
  - _Requirements: 1.1_

- [x] 4. 記事一覧ページへのカテゴリ表示追加
- [x] 4.1 (P) 記事カードにカテゴリバッジを追加
  - post-card 内にカテゴリ表示エリアを追加
  - タイトル上部にカテゴリバッジを配置
  - カテゴリ未設定の記事では非表示にする
  - カテゴリバッジからカテゴリ別記事一覧へのリンクを設定
  - _Requirements: 2.1, 2.2, 2.3_

- [x] 5. カテゴリ別記事一覧ページ作成
- [x] 5.1 (P) カテゴリ別記事一覧の動的ルーティング実装
  - getStaticPaths で全カテゴリのパスを生成
  - カテゴリごとに記事をフィルタリング
  - 記事を日付順（新しい順）でソート
  - 本番環境ではdraft記事を除外
  - _Requirements: 3.1_

- [x] 5.2 カテゴリ別記事一覧のUI実装
  - カテゴリ名をページタイトルとして表示
  - 該当カテゴリの記事数を表示
  - 記事がない場合の空メッセージを表示
  - パンくずリストにカテゴリ名を含める
  - 記事カード一覧を表示（既存のスタイルを流用）
  - _Requirements: 3.2, 3.3, 3.4, 3.5_

- [x] 6. カテゴリ一覧ページ作成
- [x] 6.1 (P) カテゴリ一覧のデータ収集と表示
  - 全ブログ記事からカテゴリを収集・集計
  - 空カテゴリを除外
  - アルファベット順でソート
  - 各カテゴリの記事数を表示
  - _Requirements: 4.1, 4.2, 4.3_

- [x] 6.2 カテゴリ一覧のUI実装
  - ページヘッダー（タイトル、説明）を表示
  - カテゴリバッジをグリッドまたはリスト形式で配置
  - 各カテゴリからカテゴリ別記事一覧へのリンクを設定
  - パンくずリストを追加
  - _Requirements: 4.4, 6.1_

- [x] 7. 統合テストと動作確認
- [x] 7.1 ビルド確認と基本動作テスト
  - npm run build でエラーがないことを確認
  - 開発サーバーで各ページの表示を確認
  - カテゴリバッジのリンク遷移を確認
  - ダークモード切り替えでスタイルが正しく適用されることを確認
  - _Requirements: 1.1, 1.3, 1.4, 2.1, 3.1, 4.1, 4.4, 5.2_
