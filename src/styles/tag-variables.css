/**
 * タグスタイル統一用CSS変数定義
 * TASK-001: CSS変数の定義と整理
 *
 * すべてのタグコンポーネントで使用される統一スタイル変数
 *
 * Note: design-tokens.cssで定義されたOKLCHベースのデザイントークンを参照
 */

:root {
  /* グローバルカラーシステム - design-tokensと統合
   * レガシー互換性のためrgb形式も維持 */
  --accent: var(--color-link, oklch(48% 0.22 293));
  --accent-dark: var(--color-link-hover, oklch(40% 0.19 293));
  /* レガシー変数（後方互換性のため維持） */
  --black: 15, 18, 25;
  --gray: 96, 115, 159;
  --gray-light: 229, 233, 240;
  --gray-dark: 34, 41, 57;
  --gray-gradient: oklch(92% 0.010 280 / 0.5), oklch(100% 0 0);
  
  /* 基本カラー - デザイントークンのOKLCHパレットから参照 */
  --tag-bg: var(--color-primary-50, oklch(97% 0.02 293));
  --tag-color: var(--color-primary-600, oklch(48% 0.22 293));
  --tag-border: var(--color-primary-200, oklch(88% 0.10 293));

  /* ホバー状態 */
  --tag-hover-bg: var(--color-primary-500, oklch(55% 0.24 293));
  --tag-hover-color: oklch(100% 0 0);
  --tag-hover-border: var(--color-primary-500, oklch(55% 0.24 293));

  /* フォーカス状態 */
  --tag-focus-color: var(--focus-ring-color, oklch(55% 0.24 293));
  --tag-focus-offset: var(--focus-ring-offset, 2px);
  
  /* サイズとスペーシング */
  --tag-padding-y: 0.2em;
  --tag-padding-x: 0.6em;
  --tag-margin-x: 0.2em;
  --tag-margin-y: 0.2em;
  --tag-border-radius: 1rem;
  --tag-font-size: 0.875rem;
  --tag-font-weight: 500;
  --tag-line-height: 1.2;
  
  /* タグカウント表示 */
  --tag-count-bg: oklch(100% 0 0 / 0.3);
  --tag-count-padding-y: 0.1em;
  --tag-count-padding-x: 0.4em;
  --tag-count-border-radius: 0.75rem;
  --tag-count-font-size: 0.75em;
  --tag-count-font-weight: 600;
  --tag-count-min-width: 1.2em;
  
  /* アニメーション - design-tokensを参照 */
  --tag-transition-duration: var(--duration-fast, 0.2s);
  --tag-transition-easing: var(--easing-default, ease);
  --tag-hover-transform: translateY(-1px);
  --tag-hover-shadow: var(--shadow-sm, 0 2px 4px oklch(0% 0 0 / 0.1));

  /* アクセシビリティ - design-tokensを参照 */
  --tag-min-tap-size: var(--touch-target-min, 44px);
  
  /* Mark要素用グラデーション変数 */
  --mark-bg: oklch(90% 0.20 100 / 0.6);
  --mark-bg-dark: oklch(85% 0.18 85 / 0.4);
  
  /* tag-more要素用変数 */
  --tag-more-bg: oklch(98% 0.005 280);
  --tag-more-color: oklch(55% 0.015 280);
  --tag-more-border: oklch(92% 0.010 280);
  --tag-more-padding-y: 0.2em;
  --tag-more-padding-x: 0.6em;
  --tag-more-font-size: 0.875rem;
  --tag-more-border-radius: 1rem;
  
  /* レスポンシブ用変数 */
  --tag-mobile-font-size: 0.8rem;
  --tag-mobile-padding-y: 0.15em;
  --tag-mobile-padding-x: 0.5em;
  --tag-mobile-count-font-size: 0.7em;
  --tag-mobile-count-padding-y: 0.05em;
  --tag-mobile-count-padding-x: 0.3em;
  
  /* tag-more要素レスポンシブ */
  --tag-more-mobile-font-size: 0.8rem;
  --tag-more-mobile-padding-y: 0.15em;
  --tag-more-mobile-padding-x: 0.5em;
  
  /* TagTree要素用変数 - デザイントークンに統一 */
  --tree-bg: var(--color-surface);
  --tree-border: var(--color-gray-200);
  --tree-hover-bg: var(--color-gray-100);
  --tree-guide-color: var(--color-gray-200);
  --tree-toggle-color: var(--color-gray-500);
  --tree-toggle-hover-bg: var(--color-gray-100);
  --tree-toggle-hover-color: var(--color-gray-700);
}

/* ダークモード対応 - デザイントークンのOKLCHパレットから参照 */
html.dark {
  --tag-bg: var(--color-primary-900, oklch(25% 0.12 293));
  --tag-color: var(--color-primary-200, oklch(88% 0.10 293));
  --tag-border: var(--color-primary-800, oklch(32% 0.15 293));

  --tag-hover-bg: var(--color-primary-500, oklch(65% 0.20 293));
  --tag-hover-color: oklch(100% 0 0);
  --tag-hover-border: var(--color-primary-500, oklch(65% 0.20 293));

  --tag-focus-color: var(--focus-ring-color, oklch(72% 0.18 293));

  --tag-count-bg: oklch(0% 0 0 / 0.3);
  
  /* tag-more要素ダークモード */
  --tag-more-bg: oklch(35% 0.015 280);
  --tag-more-color: oklch(85% 0.012 280);
  --tag-more-border: oklch(45% 0.015 280);
  
  /* TagTree要素ダークモード - デザイントークンに統一 */
  --tree-bg: var(--color-gray-800);
  --tree-border: var(--color-gray-700);
  --tree-hover-bg: var(--color-gray-700);
  --tree-guide-color: var(--color-gray-700);
  --tree-toggle-color: var(--color-gray-400);
  --tree-toggle-hover-bg: var(--color-gray-700);
  --tree-toggle-hover-color: var(--color-gray-200);
}

/* 階層タグ用の追加変数（廃止予定 - 統一スタイルに移行） */
:root {
  --tag-hierarchical-bg: var(--tag-bg);
  --tag-hierarchical-color: var(--tag-color);
  --tag-hierarchical-border: var(--tag-border);
  --tag-hierarchical-hover-bg: var(--tag-hover-bg);
  --tag-hierarchical-hover-color: var(--tag-hover-color);
  --tag-hierarchical-hover-border: var(--tag-hover-border);
}

html.dark {
  --tag-hierarchical-bg: var(--tag-bg);
  --tag-hierarchical-color: var(--tag-color);
  --tag-hierarchical-border: var(--tag-border);
  --tag-hierarchical-hover-bg: var(--tag-hover-bg);
  --tag-hierarchical-hover-color: var(--tag-hover-color);
  --tag-hierarchical-hover-border: var(--tag-hover-border);
  
  /* ダークモード用の追加変数 */
  --tag-dark-bg: var(--tag-bg);
  --tag-dark-color: var(--tag-color);
  --tag-dark-border: var(--tag-border);
  --tag-dark-hover-bg: var(--tag-hover-bg);
  --tag-dark-hover-color: var(--tag-hover-color);
  --tag-dark-hover-border: var(--tag-hover-border);
  
  --tag-hierarchical-dark-bg: var(--tag-bg);
  --tag-hierarchical-dark-color: var(--tag-color);
  --tag-hierarchical-dark-border: var(--tag-border);
  --tag-hierarchical-dark-hover-bg: var(--tag-hover-bg);
  --tag-hierarchical-dark-hover-color: var(--tag-hover-color);
  --tag-hierarchical-dark-hover-border: var(--tag-hover-border);
}

/* メディアクエリブレークポイント
 * 注: CSS変数はメディアクエリ内で直接使用できないため、
 * 各CSSファイルで直接値を指定する必要があります。
 *
 * 統一ブレークポイント（design-tokens.cssで定義）：
 * - sm (モバイル): 480px
 * - md (タブレット): 768px
 * - lg (デスクトップ): 1024px
 * - xl (大画面): 1440px
 */

/* レスポンシブ用CSS変数 - design-tokensを参照 */
:root {
  /* レイアウト幅 - design-tokensと統合 */
  --responsive-max-width: var(--content-max-width, 720px);
  --responsive-content-padding: var(--content-padding, 1rem);

  /* ブレークポイント参照値（JS用）- design-tokensと統合 */
  --breakpoint-mobile: var(--breakpoint-sm, 480px);
  --breakpoint-tablet: var(--breakpoint-md, 768px);
  --breakpoint-desktop: var(--breakpoint-lg, 1024px);

  /* グリッドレイアウト */
  --responsive-grid-gap: var(--space-4, 1rem);
  --responsive-sidebar-width: minmax(200px, 300px);

  /* タッチターゲットサイズ - design-tokensで定義済み、フォールバック */
  /* --touch-target-min は design-tokens.css で定義 */
}