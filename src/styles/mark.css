/**
 * Mark Highlight Styles - 独立ファイル
 * TASK-201: グローバルCSS整理と統一
 */

:root {
  /* Mark要素用変数定義 */
  --mark-bg: rgba(255, 235, 59, 0.6);           /* Material Design Yellow 300 */
  --mark-color: rgb(var(--gray-dark));
  --mark-padding-y: 0.2em;
  --mark-padding-x: 0.1em;
  --mark-border-radius: 3px;
  --mark-transition: background-color 0.2s ease-in-out;
  
  /* ホバー効果 */
  --mark-hover-bg: rgba(255, 235, 59, 0.8);
  
  /* ダークモード */
  --mark-bg-dark: rgba(255, 193, 7, 0.4);
  --mark-color-dark: rgba(255, 255, 255, 0.9);
  --mark-hover-bg-dark: rgba(255, 193, 7, 0.6);
  
  /* ハイコントラストモード */
  --mark-bg-high-contrast: rgba(255, 235, 59, 0.9);
  --mark-border-high-contrast: 1px solid rgb(var(--gray-dark));
  
  /* プリント用 */
  --mark-bg-print: rgba(255, 235, 59, 0.3);
  --mark-color-print: black;
  
  /* code要素内 */
  --mark-code-padding-y: 0.1em;
  --mark-code-padding-x: 0.3em;
  --mark-code-bg: rgba(var(--gray-light), 0.8);
  --mark-code-border-radius: 2px;
}

/* Mark Highlight Styles */
mark {
  /* Base styling */
  background-color: var(--mark-bg);
  color: var(--mark-color);
  padding: var(--mark-padding-y) var(--mark-padding-x);
  border-radius: var(--mark-border-radius);
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
  
  /* Typography inheritance */
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  line-height: inherit;
  
  /* Transition for smooth hover effects */
  transition: var(--mark-transition);
}

/* Hover effect for better interactivity */
mark:hover {
  background-color: var(--mark-hover-bg);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  mark {
    background-color: var(--mark-bg-high-contrast);
    border: var(--mark-border-high-contrast);
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  mark {
    background-color: var(--mark-bg-dark);
    color: var(--mark-color-dark);
  }
  
  mark:hover {
    background-color: var(--mark-hover-bg-dark);
  }
}

/* Reduce motion support */
@media (prefers-reduced-motion: reduce) {
  mark {
    transition: none;
  }
}

/* Print styles */
@media print {
  mark {
    background-color: var(--mark-bg-print);
    color: var(--mark-color-print);
    box-shadow: none;
  }
}

/* Nested element support */
mark strong,
mark em,
mark code {
  background: transparent;
}

mark code {
  padding: var(--mark-code-padding-y) var(--mark-code-padding-x);
  background-color: var(--mark-code-bg);
  border-radius: var(--mark-code-border-radius);
}

/* Focus support for accessibility */
mark:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}